<html><head><script>TH.behaviors.thng=[TH.behaviors.entity,{name:"thng",types:{string:{match:"isString",output:String,debounce:500},boolean:{match:"isBoolean",output:Boolean},number:{match:"isNumber",output:Number,debounce:300}},_propertiesHistory:{},_hasProperties:function(t){return this._listProperties(t).length>0},_listProperties:function(t){return Object.keys(t&&t.properties||{})},_getPropertyValue:function(t){return this.get("thng.properties."+t)},_getPropertyType:function(t){var r=this._typ(t),e=this.types[r]||this.types.string,i={typ:r,isString:!1,isNumber:!1,isBoolean:!1,debounce:e.debounce,output:e.output,history:e.history};return i[e.match]=!0,i},_getPropertyHistory:function(t){var r=this._propertiesHistory[t.name];return r?r:[]},_computeProperties:function(t){var r=this._abstractListProperty(t,"properties");return r.map(function(r){var e=t.property(r.name);return r.type=this._getPropertyType(r.value),r.history=this._getPropertyHistory(r),r.update=e.update.bind(e),r},this)},_addPropertyHistory:function(t,r){var e;"object"===this._typ(r)&&(r=[r]),e=this._propertiesHistory[t]=this._propertiesHistory[t]||[],r.forEach(function(r){this.push("_propertiesHistory."+t,r),e.length>30&&this.shift("_propertiesHistory."+t)},this),e.sort(function(t,r){return t.timestamp<r.timestamp?1:-1})}}];</script>
</head><body></body></html>